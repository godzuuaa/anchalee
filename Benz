local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- สร้าง GUI
local screenGui = Instance.new("ScreenGui", PlayerGui)
screenGui.Name = "TeleportGui"

-- ปุ่ม Start/Stop
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 50)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.Text = "Start"
toggleButton.Parent = screenGui

-- กล่องใส่ delay
local delayBox = Instance.new("TextBox")
delayBox.Size = UDim2.new(0, 100, 0, 30)
delayBox.Position = UDim2.new(0, 10, 0, 70)
delayBox.PlaceholderText = "Delay (วินาที)"
delayBox.Text = "5"
delayBox.Parent = screenGui

-- รายการตำแหน่งที่ต้องการวาร์ป
local teleportPositions = {
	CFrame.new(87, 2, -27),
	CFrame.new(88, 2, 0),
	CFrame.new(-80, 5, -14),
	CFrame.new(-283, 2, -32),
	CFrame.new(-286, 2, -2),
	CFrame.new(-237, 2, 36),
	CFrame.new(-101, 2, 36),
}

-- ตัวแปรควบคุม
local isRunning = false
local currentTeleportThread

-- ฟังก์ชันวาร์ป
local function sequentialTeleport()
	local currentIndex = 1

	while isRunning do
		-- อ่านค่าหน่วงจาก TextBox
		local delayTime = tonumber(delayBox.Text) or 5
		delayTime = math.clamp(delayTime, 1, 60) -- จำกัดระหว่าง 1-60 วินาที

		task.wait(delayTime)

		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:FindFirstChild("HumanoidRootPart")

		if hrp then
			hrp.CFrame = teleportPositions[currentIndex]

			currentIndex += 1
			if currentIndex > #teleportPositions then
				currentIndex = 1
			end
		end
	end
end

-- ปุ่ม toggle เริ่ม/หยุด
toggleButton.MouseButton1Click:Connect(function()
	isRunning = not isRunning

	if isRunning then
		toggleButton.Text = "Stop"
		currentTeleportThread = task.spawn(sequentialTeleport)
	else
		toggleButton.Text = "Start"
	end
end)
